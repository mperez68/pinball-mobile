[gd_scene load_steps=20 format=3 uid="uid://bipaolrgohu42"]

[ext_resource type="PackedScene" uid="uid://dcjmkoh2s2lf5" path="res://in_game_ui.tscn" id="1_8l818"]
[ext_resource type="Script" uid="uid://bwigumvkir0di" path="res://board.gd" id="1_jqgjh"]
[ext_resource type="Script" uid="uid://d02hesxr7rjwg" path="res://flipper.gd" id="1_p0ybc"]
[ext_resource type="PhysicsMaterial" uid="uid://co3wo60vm8y1n" path="res://flipper.tres" id="1_psm7c"]
[ext_resource type="BoxMesh" uid="uid://cj02njb1e0ag7" path="res://flipper_mesh.tres" id="5_vf5bc"]
[ext_resource type="Shape3D" uid="uid://dhpg7ukkdf7mj" path="res://flipper_collision_shape.tres" id="6_mgc1s"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4mug4"]
albedo_color = Color(0.306923, 0.306923, 0.306923, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_4mug4"]
material = SubResource("StandardMaterial3D_4mug4")
size = Vector2(6.9, 14)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_mgc1s"]
data = PackedVector3Array(3.45, 0, 7, -3.45, 0, 7, 3.45, 0, -7, -3.45, 0, 7, -3.45, 0, -7, 3.45, 0, -7)

[sub_resource type="PlaneMesh" id="PlaneMesh_mgc1s"]
size = Vector2(6.9, 0.7)
center_offset = Vector3(0, 0, -0.35)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_rq8yp"]
data = PackedVector3Array(3.45, 0, 0, -3.45, 0, 0, 3.45, 0, -0.7, -3.45, 0, 0, -3.45, 0, -0.7, 3.45, 0, -0.7)

[sub_resource type="PlaneMesh" id="PlaneMesh_tngv2"]
size = Vector2(0.7, 14)
center_offset = Vector3(-0.35, 0, 0)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_tngv2"]
data = PackedVector3Array(0, 0, 7, -0.7, 0, 7, 0, 0, -7, -0.7, 0, 7, -0.7, 0, -7, 0, 0, -7)

[sub_resource type="PlaneMesh" id="PlaneMesh_rq8yp"]
size = Vector2(0.7, 14)
center_offset = Vector3(0.35, 0, 0)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_c4ttu"]
data = PackedVector3Array(0.7, 0, 7, 0, 0, 7, 0.7, 0, -7, 0, 0, 7, 0, 0, -7, 0.7, 0, -7)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_4mug4"]
friction = 0.2
bounce = 0.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_p0ybc"]
albedo_color = Color(0.779291, 0.779291, 0.779291, 1)
metallic = 1.0
roughness = 0.55

[sub_resource type="SphereMesh" id="SphereMesh_psm7c"]
material = SubResource("StandardMaterial3D_p0ybc")
radius = 0.13
height = 0.26

[sub_resource type="SphereShape3D" id="SphereShape3D_rq8yp"]
radius = 0.13

[node name="Board" type="Node3D"]
script = ExtResource("1_jqgjh")

[node name="InGameUI" parent="." instance=ExtResource("1_8l818")]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.434916, 0.900471, 0, -0.900471, 0.434916, 0, 11.6574, 7.84984)
current = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Camera3D"]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 1.49012e-07, -2.98023e-08, 2.98023e-08, 1, 0, 0, 0)

[node name="Camera3D2" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.993582, -0.113116, 0, 0.113116, 0.993582, 0, -0.128373, 10.4856)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Camera3D2"]
transform = Transform3D(1, 0, -2.98023e-08, 0, 1, 1.49012e-07, -2.98023e-08, 2.98023e-08, 1, 0, 0, 0)

[node name="Board" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.993572, -0.113203, 0, 0.113203, 0.993572, 0, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Board"]
mesh = SubResource("PlaneMesh_4mug4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board"]
shape = SubResource("ConcavePolygonShape3D_mgc1s")

[node name="LeftHinge" type="HingeJoint3D" parent="Board"]
transform = Transform3D(1, 0, 0, 0, -4.47035e-08, -1, 0, 1, -4.47035e-08, -1.035, 0, 6)
node_b = NodePath("../LeftFlipper")
angular_limit/enable = true
angular_limit/upper = 0.523599
angular_limit/lower = -0.122173

[node name="LeftFlipper" type="RigidBody3D" parent="Board"]
unique_name_in_owner = true
transform = Transform3D(0.992546, 0, -0.121869, 0, 1, 0, 0.121869, 0, 0.992546, -1.035, 0.065, 6)
collision_layer = 2
collision_mask = 2
mass = 0.5
physics_material_override = ExtResource("1_psm7c")
script = ExtResource("1_p0ybc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Board/LeftFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.285, 0.064, 0)
mesh = ExtResource("5_vf5bc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/LeftFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.285, 0.064, 0)
shape = ExtResource("6_mgc1s")

[node name="RightHinge" type="HingeJoint3D" parent="Board"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 1.035, 0, 6)
node_b = NodePath("../RightFlipper")
angular_limit/enable = true
angular_limit/upper = 0.122173
angular_limit/lower = -0.523599

[node name="RightFlipper" type="RigidBody3D" parent="Board"]
unique_name_in_owner = true
transform = Transform3D(0.992546, 0, 0.121869, 0, 1, 0, -0.121869, 0, 0.992546, 1.035, 0.065, 6)
collision_layer = 2
collision_mask = 2
mass = 0.5
physics_material_override = ExtResource("1_psm7c")
script = ExtResource("1_p0ybc")
direction = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="Board/RightFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.285, 0.064, 0)
mesh = ExtResource("5_vf5bc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/RightFlipper"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.285, 0.064, 0)
shape = ExtResource("6_mgc1s")

[node name="BackWall" type="StaticBody3D" parent="Board"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Board/BackWall"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
mesh = SubResource("PlaneMesh_mgc1s")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/BackWall"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_rq8yp")

[node name="LeftWall" type="StaticBody3D" parent="Board"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.45, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Board/LeftWall"]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("PlaneMesh_tngv2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/LeftWall"]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_tngv2")

[node name="RightWall" type="StaticBody3D" parent="Board"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Board/RightWall"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.45, 0, 0)
mesh = SubResource("PlaneMesh_rq8yp")
skeleton = NodePath("../../LeftWall")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Board/RightWall"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 3.45, 0, 0)
shape = SubResource("ConcavePolygonShape3D_c4ttu")

[node name="Ball" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.993572, -0.113203, 0, 0.113203, 0.993572, 0.66785, 0.13, 0)
collision_layer = 3
collision_mask = 3
mass = 0.08
physics_material_override = SubResource("PhysicsMaterial_4mug4")
linear_velocity = Vector3(0, 0, 5)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ball"]
mesh = SubResource("SphereMesh_psm7c")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ball"]
shape = SubResource("SphereShape3D_rq8yp")

[node name="OmniLight3D" type="OmniLight3D" parent="Ball"]

[connection signal="flip" from="InGameUI" to="." method="_on_in_game_ui_flip"]
